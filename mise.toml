[tools]
ruff = "latest"
python = "3.14"
uv = "latest"
rust = { version = "1.91.0", profile = "default" }

[tasks.python_lint]
description = "Run Python linting with ruff"
run = """
ruff check .
ruff format --check .
"""

[tasks.rust_lint]
description = "Run Rust linting with clippy"
run = "cargo clippy --all-targets --all-features -- -D warnings"

[tasks.lint]
description = "Run all linting tasks"
depends = ["python_lint", "rust_lint"]

[tasks.test_py312]
description = "Run pytest with Python 3.12"
tools.python = "3.12"
usage = 'arg "[files]" var=#true help="Files to test"'
run = "uv tool run --with tox-uv tox -q -e py312 -- ${usage_files}"

[tasks.test_py313]
description = "Run pytest with Python 3.13"
tools.python = "3.13"
usage = 'arg "[files]" var=#true help="Files to test"'
run = "uv tool run --with tox-uv tox -q -e py313 -- ${usage_files}"

[tasks.test_py314]
description = "Run pytest with Python 3.14"
tools.python = "3.14"
alias = "test"
usage = 'arg "[files]" var=#true help="Files to test"'
run = "uv tool run --with tox-uv tox -q -e py314 -- ${usage_files}"

[tasks.test_all_versions]
description = "Run tests on all Python versions (3.12, 3.13, 3.14)"
usage = 'arg "[files]" var=#true help="Files to test"'
run = "mise run test_py312 ${usage_files} ::: test_py313 ${usage_files} ::: test_py314 ${usage_files}"

[tasks.build]
description = "Builds the project (in development mode)"
run = "uv build"
